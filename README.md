# TWLN - Feature Sliced Design Next.js App

Next.js 15ì™€ Feature Sliced Design (FSD) ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

- **Framework**: Next.js 15 (App Router)
- **Architecture**: Feature Sliced Design (FSD)
- **Authentication**: Supabase Auth (SSR ì§€ì›) + ìŠ¹ì¸ ì‹œìŠ¤í…œ
- **State Management**:
  - Server State: TanStack Query v5
  - Client State: Zustand
- **Styling**: Tailwind CSS v4 + shadcn/ui
- **Language**: TypeScript
- **Database**: Supabase PostgreSQL (RLS ë³´ì•ˆ)

## ğŸ” ìŠ¹ì¸ ì‹œìŠ¤í…œ

MVP ë²„ì „ì—ì„œëŠ” ìŠ¹ì¸ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **íšŒì›ê°€ì…**: ì‚¬ìš©ì ë“±ë¡ í›„ ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ
- **ë¡œê·¸ì¸**: ìŠ¹ì¸ëœ ì‚¬ìš©ìë§Œ ë¡œê·¸ì¸ ê°€ëŠ¥
- **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: ì‚¬ìš©ì ìŠ¹ì¸/ì·¨ì†Œ ê´€ë¦¬
- **Row Level Security**: ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ë³´ì•ˆ

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx         # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx           # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ login/             # ë¡œê·¸ì¸/íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â””â”€â”€ admin/             # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ shared/                # ê³µìœ  ë ˆì´ì–´
â”‚   â”œâ”€â”€ ui/               # UI ì»´í¬ë„ŒíŠ¸ (shadcn/ui)
â”‚   â”œâ”€â”€ lib/              # ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”œâ”€â”€ supabase/     # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ providers/    # React í”„ë¡œë°”ì´ë”
â”‚   â”‚   â””â”€â”€ stores/       # Zustand ìŠ¤í† ì–´
â”‚   â”œâ”€â”€ api/              # API ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ config/           # ì„¤ì • íŒŒì¼
â”‚   â””â”€â”€ types/            # ê³µí†µ íƒ€ì… ì •ì˜
â”‚       â””â”€â”€ auth.ts       # ìŠ¹ì¸ ì‹œìŠ¤í…œ íƒ€ì…
â”œâ”€â”€ entities/              # ì—”í‹°í‹° ë ˆì´ì–´
â”‚   â””â”€â”€ user/             # ì‚¬ìš©ì ì—”í‹°í‹°
â”œâ”€â”€ features/              # ê¸°ëŠ¥ ë ˆì´ì–´
â”‚   â””â”€â”€ auth/             # ì¸ì¦ ê¸°ëŠ¥
â”‚       â”œâ”€â”€ api/          # ì¸ì¦ API
â”‚       â”‚   â”œâ”€â”€ auth-api.ts # ê¸°ë³¸ ì¸ì¦ API
â”‚       â”‚   â””â”€â”€ approval-api.ts # ìŠ¹ì¸ ì‹œìŠ¤í…œ API
â”‚       â”œâ”€â”€ hooks/        # ì¸ì¦ í›…
â”‚       â””â”€â”€ model/        # ì¸ì¦ ëª¨ë¸
â”œâ”€â”€ widgets/               # ìœ„ì ¯ ë ˆì´ì–´
â””â”€â”€ pages/                 # í˜ì´ì§€ ë ˆì´ì–´
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 2. Supabase í”„ë¡œì íŠ¸ ì„¤ì •

1. [Supabase Dashboard](https://supabase.com/dashboard)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. `supabase-setup.sql` íŒŒì¼ì˜ SQL ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 3. ì´ˆê¸° ê´€ë¦¬ì ì„¤ì •

Supabase SQL Editorì—ì„œ ë‹¤ìŒ ì‹¤í–‰:

```sql
-- ì´ˆê¸° ê´€ë¦¬ì ê³„ì • ì¶”ê°€ (ì‹¤ì œ ì´ë©”ì¼ë¡œ êµì²´)
INSERT INTO approved_users (email, approved_by) VALUES ('your-email@example.com', 'system');
```

### 4. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

## ğŸ”§ ì£¼ìš” ì„¤ì •

### Supabase Auth SSR + ìŠ¹ì¸ ì‹œìŠ¤í…œ

- `@supabase/ssr` íŒ¨í‚¤ì§€ ì‚¬ìš©
- ë¡œê·¸ì¸ ì‹œ ìŠ¹ì¸ ìƒíƒœ ìë™ í™•ì¸
- ìŠ¹ì¸ë˜ì§€ ì•Šì€ ì‚¬ìš©ì ì ‘ê·¼ ì°¨ë‹¨
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œë¥¼ í†µí•œ ì‚¬ìš©ì ê´€ë¦¬

### TanStack Query v5

- SSR ì§€ì›ì„ ìœ„í•œ `staleTime` ì„¤ì •
- React Query Devtools í¬í•¨
- ìŠ¹ì¸ ìƒíƒœ ì‹¤ì‹œê°„ ë™ê¸°í™”

### Zustand

- í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬
- ì¸ì¦ ìƒíƒœ ë° ì‚¬ìš©ì ì •ë³´ ê´€ë¦¬
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì§€ì›

### shadcn/ui

- Tailwind CSS v4 ê¸°ë°˜
- FSD ì•„í‚¤í…ì²˜ì— ë§ê²Œ `src/shared/ui/`ì— ë°°ì¹˜
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸

## ğŸ“š ì‚¬ìš©ë²•

### ì¸ì¦ í”Œë¡œìš°

1. **íšŒì›ê°€ì…**: `/login` í˜ì´ì§€ì—ì„œ íšŒì›ê°€ì…
2. **ìŠ¹ì¸ ëŒ€ê¸°**: ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ
3. **ê´€ë¦¬ì ìŠ¹ì¸**: `/admin` í˜ì´ì§€ì—ì„œ ì‚¬ìš©ì ìŠ¹ì¸
4. **ë¡œê·¸ì¸**: ìŠ¹ì¸ëœ ì‚¬ìš©ìë§Œ ë¡œê·¸ì¸ ê°€ëŠ¥

### ê´€ë¦¬ì ê¸°ëŠ¥

```typescript
// ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ì†
// http://localhost:3000/admin

// ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ì‚¬ìš©ì ëª©ë¡
// ìŠ¹ì¸ëœ ì‚¬ìš©ì ëª©ë¡
// ì‚¬ìš©ì ìŠ¹ì¸/ì·¨ì†Œ ê¸°ëŠ¥
```

### ì¸ì¦ ì‚¬ìš©í•˜ê¸°

```typescript
import { useAuth } from "@/features/auth/hooks/use-auth";

function MyComponent() {
  const { user, isAuthenticated, signIn, signOut } = useAuth();

  return (
    <div>
      {isAuthenticated ? (
        <div>
          <p>í™˜ì˜í•©ë‹ˆë‹¤, {user?.email}ë‹˜!</p>
          <button onClick={signOut}>ë¡œê·¸ì•„ì›ƒ</button>
        </div>
      ) : (
        <button
          onClick={() =>
            signIn({ email: "test@example.com", password: "password" })
          }
        >
          ë¡œê·¸ì¸
        </button>
      )}
    </div>
  );
}
```

## ğŸ¯ FSD ì•„í‚¤í…ì²˜ ì›ì¹™

1. **ë ˆì´ì–´ ë¶„ë¦¬**: ê° ë ˆì´ì–´ëŠ” ëª…í™•í•œ ì±…ì„ì„ ê°€ì§‘ë‹ˆë‹¤
2. **ì˜ì¡´ì„± ë°©í–¥**: ìƒìœ„ ë ˆì´ì–´ëŠ” í•˜ìœ„ ë ˆì´ì–´ì—ë§Œ ì˜ì¡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. **ê³µìœ  ì½”ë“œ**: `shared` ë ˆì´ì–´ë¥¼ í†µí•´ ê³µí†µ ì½”ë“œë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤
4. **ê¸°ëŠ¥ ì¤‘ì‹¬**: `features` ë ˆì´ì–´ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•©ë‹ˆë‹¤

## ğŸ“ ìŠ¤í¬ë¦½íŠ¸

- `npm run dev`: ê°œë°œ ì„œë²„ ì‹¤í–‰
- `npm run build`: í”„ë¡œë•ì…˜ ë¹Œë“œ
- `npm run start`: í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
- `npm run lint`: ESLint ì‹¤í–‰

## ğŸ”’ ë³´ì•ˆ ê¸°ëŠ¥

- **Row Level Security (RLS)**: ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ë³´ì•ˆ
- **ìŠ¹ì¸ ì‹œìŠ¤í…œ**: ê´€ë¦¬ì ìŠ¹ì¸ í›„ ì ‘ê·¼ ê°€ëŠ¥
- **ì„¸ì…˜ ê´€ë¦¬**: SSR ì§€ì› ì¸ì¦
- **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ íƒ€ì… ë³´ì¥

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. ì´ìŠˆë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ ì´ìŠˆë¥¼ í™•ì¸í•˜ì„¸ìš”
2. ìƒˆë¡œìš´ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ì„¸ìš”
3. FSD ì•„í‚¤í…ì²˜ ì›ì¹™ì„ ë”°ë¼ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
4. PRì„ ìƒì„±í•˜ì„¸ìš”

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License
