# 효과적인 프롬프트 패턴

> **"같은 기능이라도 프롬프트에 따라 결과가 천차만별"**

---

## ✅ 잘 먹히는 패턴

### 1. 구조 + 요구사항 + 제약조건
```
로또 번호 생성 API 만들어줘.

구조:
- 경로: /api/lotto/generate
- 메서드: POST

요구사항:
- 1~45 중 6개 랜덤 선택
- 중복 불가
- 오름차순 정렬

제약조건:
- Next.js API Route (app/api)
- 응답 형식: { numbers: number[] }
- 에러 시 500 + message
```

### 2. 기존 코드 참조
```
/api/lotto/draws API 참고해서
/api/lotto/statistics API 만들어줘.

추가 요구사항:
- 각 번호별 출현 횟수 계산
- 최근 10회, 50회, 100회 필터 옵션
```

### 3. 구체적 예시 제공
```
버튼 클릭 시 토스트 알림 표시해줘.

예시:
- 성공: "번호가 저장되었습니다" (초록색)
- 실패: "저장에 실패했습니다" (빨간색)
- 이미 존재: "이미 저장된 번호입니다" (노란색)

sonner 라이브러리 사용.
```

---

## ❌ 안 먹히는 패턴

### 1. 너무 모호함
```
❌ "로또 앱 만들어줘"
❌ "분석 기능 추가해줘"
❌ "더 예쁘게 해줘"
```

### 2. 한 번에 너무 많이
```
❌ "회원가입, 로그인, 번호 생성, 저장, 분석, 결제까지 다 만들어줘"
```

### 3. 컨텍스트 없이
```
❌ "에러 수정해줘" (어떤 에러?)
❌ "스타일 바꿔줘" (어떻게?)
```

---

## 🔥 실제 사용한 프롬프트

### 로또 조합 생성기
```
패턴 기반 로또 조합 생성기 만들어줘.

필터 옵션:
1. 고정수: 반드시 포함할 번호들 (최대 5개)
2. 제외수: 절대 제외할 번호들
3. 합계 범위: 6개 번호 합이 min~max 사이
4. AC값: 번호 간 차이 다양성 (0~10)
5. 홀짝 비율: 홀수 몇 개 ~ 몇 개

UI:
- Step 1: 필터 설정
- Step 2: 조합 수 미리보기
- Step 3: 결과 생성 (5게임 또는 10게임)

기술:
- React 클라이언트 컴포넌트
- shadcn/ui Slider, Checkbox 사용
- 결과는 카드 형태로 표시
```

### 3D 추첨 시뮬레이션 (어려웠던 것)
```
Three.js로 로또 추첨 시뮬레이션 만들어줘.

참고: 실제 로또 추첨기 영상 (유튜브)

요구사항:
1. 투명한 구 안에 45개 공
2. 드럼이 회전하며 공들이 섞임
3. 공이 하나씩 추첨구로 올라옴
4. 6개 + 보너스 1개 추첨

물리 엔진:
- @react-three/rapier 사용
- 공끼리 충돌, 벽 충돌
- 중력 적용

문제점: 공이 벽을 뚫고 나가는 현상
→ 추가 프롬프트: "RigidBody collider를 hull에서 ball로 변경"
```

---

## 💡 프롬프트 개선 팁

### Before → After
```
Before: "에러 수정해줘"
After: "line 45에서 TypeError: Cannot read property 'map' of undefined 에러.
data가 undefined일 때 빈 배열 반환하도록 수정해줘."

Before: "더 예쁘게"
After: "버튼에 hover 시 scale-105 효과,
배경에 subtle한 그라데이션 (slate-900 → slate-800),
카드에 border 추가"

Before: "API 만들어"
After: "GET /api/lotto/draws
쿼리: ?limit=10&offset=0
응답: { draws: LottoDraw[], total: number }
Supabase에서 drw_no DESC로 정렬해서 가져와"
```

---

## 🎯 핵심 원칙

1. **구체적으로**: 숫자, 경로, 형식 명시
2. **예시 제공**: 원하는 결과 보여주기
3. **제약조건 명시**: 사용할 라이브러리, 피할 것
4. **점진적으로**: 한 번에 하나씩, 확인 후 진행
