# 도메인 지식의 중요성

> **"AI가 모르는 건 내가 알아야 한다"**

---

## 🎯 왜 도메인 지식이 중요한가?

바이브코딩에서 **가장 치명적인 오류**는 코드 버그가 아니라 **비즈니스 로직 오류**입니다.

### 실제 겪은 사례

| 문제 | AI의 실수 | 올바른 규칙 |
|-----|---------|-----------|
| 번호 범위 | 0~44 생성 | 1~45 생성 |
| 보너스 번호 | 6개에 포함 | 별도로 1개 |
| 당첨 판정 | 단순 개수 비교 | 보너스 포함 복잡한 로직 |
| AC값 계산 | 틀린 공식 | (고유 차이 수) - 5 |

---

## 📚 로또탐정 도메인 지식

### 기본 규칙
```markdown
## 로또 6/45 규칙
- 1~45 중 6개 번호 선택
- 보너스 번호 1개 (6개와 별도)
- 매주 토요일 20:45 추첨

## 당첨 등수
- 1등: 6개 일치
- 2등: 5개 + 보너스 일치
- 3등: 5개 일치
- 4등: 4개 일치
- 5등: 3개 일치
```

### AC값 (복잡도)
```markdown
## AC값이란?
AC = (고유 차이값 개수) - 5

예시: [1, 2, 3, 4, 5, 6]
- 인접 차이: 1,1,1,1,1
- 모든 쌍 차이: 1,2,3,4,5,1,2,3,4,1,2,3,1,2,1
- 고유 값: 1,2,3,4,5 (5개)
- AC = 5 - 5 = 0 (연속 번호는 AC가 낮음)

예시: [3, 12, 23, 34, 38, 45]
- 다양한 차이값
- AC = 10 (높음)
```

---

## ✅ 검증 방법

### 1. 직접 손으로 계산
```
AI가 AC값 계산 함수를 만들었다면:
1. 알려진 번호로 테스트 (예: [1,2,3,4,5,6] → AC=0)
2. 극단적 케이스 테스트
3. 실제 당첨 번호로 검증
```

### 2. 엣지 케이스 요청
```
다음 케이스 모두 테스트해줘:
- 연속 번호: [1,2,3,4,5,6]
- 10단위: [10,20,30,40,41,42]
- 실제 당첨 번호: [8,15,22,31,38,44]
```

### 3. 공식 자료 참조
- 동행복권 공식 사이트
- 기존 로또 분석 서비스
- 관련 논문/통계 자료

---

## 🔧 프롬프트 예시

### 도메인 규칙 명시
```
로또 당첨 판정 함수 만들어줘.

규칙:
- 당첨 번호: 6개 메인 + 1개 보너스
- 사용자 번호: 6개

판정 로직:
1. 메인 6개와 비교하여 일치 개수 계산
2. 5개 일치 시, 보너스 번호 확인
3. 등수 반환 (1~5등 또는 null)

예시:
- 당첨: [1,2,3,4,5,6] + 보너스 7
- 사용자: [1,2,3,4,5,6] → 1등
- 사용자: [1,2,3,4,5,7] → 2등 (5개+보너스)
- 사용자: [1,2,3,4,5,8] → 3등 (5개)
```

### 검증 요청
```
만든 함수가 맞는지 다음 케이스로 테스트해줘:

당첨: [3,12,23,34,38,45] + 보너스 10

테스트:
1. [3,12,23,34,38,45] → 1등
2. [3,12,23,34,38,10] → 2등
3. [3,12,23,34,38,1] → 3등
4. [3,12,23,34,1,2] → 4등
5. [3,12,23,1,2,4] → 5등
6. [1,2,4,5,6,7] → 꽝
```

---

## 📋 도메인 지식 체크리스트

프로젝트 시작 전:
- [ ] 핵심 용어 정의 (AC값, 연속수, 고저비 등)
- [ ] 핵심 규칙 문서화
- [ ] 엣지 케이스 목록화
- [ ] 검증용 테스트 케이스 준비
- [ ] 참고 자료 수집 (공식 사이트, 기존 서비스)

---

## 💡 핵심 교훈

1. **AI는 추측한다**: 도메인 지식이 없으면 그럴듯하게 만들어냄
2. **결과 검증은 본인 몫**: AI 결과를 맹신하지 말 것
3. **도메인 전문가 = 프로젝트 성공**: 코딩보다 도메인이 더 중요
