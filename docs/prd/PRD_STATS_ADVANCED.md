# PRD – 로또 심화 통계 분석 페이지

## 1. 개요
고급 통계 알고리즘과 확률 모델을 적용하여 번호 간의 관계, 전이 확률, 시뮬레이션 기반의 통계적 데이터를 제공합니다.

## 2. 공통 기능: 회차 필터 (Draw Filter)
심화 통계는 데이터의 신선도가 중요하므로 정교한 필터링이 필수적입니다.

- **분석 범위 설정**: "최근 N회차의 데이터를 학습 데이터로 사용" (예: 최근 50회차, 100회차)
- **비교 회차 선택**: 특정 회차와 현재의 흐름을 비교 분석하는 기능

## 3. 상세 메뉴별 요구사항

### 3.1 n회귀 통계 (Regression)
- **개념**: 특정 번호가 당첨된 후 다시 당첨되기까지 걸리는 '재출현 주기' 분석
- **표시 데이터**: 번호별 평균 회귀 회차, 최근 회귀 회차, 표준편차
- **알고리즘**: `(마지막 출현 회차 - 이전 출현 회차)`의 평균값 계산
- **인사이트**: 평균보다 지연되고 있는 '임계점' 번호 강조

### 3.2 마르코프 체인 / 전이 확률 (Markov)
- **개념**: 현재 회차에 나온 번호가 다음 회차에 어떤 번호를 유도하는지 확률적으로 분석
- **데이터**: 45x45 전이 행렬 (Transition Matrix)
- **표시**: 특정 번호를 선택했을 때, 다음 회차에 같이 나올 확률이 가장 높은 상위 5개 번호
- **시각화**: 노드-링크 다이어그램 또는 확률 히트맵

### 3.3 후나츠 사카이 분석 (Funatsu Sakai Balance)
- **개념**: 일본의 로또 분석가 후나츠 사카이가 제안한 고/저, 홀/짝, 소수/합성의 균형 선택법
- **요구사항**: 6개 번호의 합계(Sum), 평균값, 산도(Spread) 분석
- **표시**: 선택된 범위 내에서 당첨 조합들의 '평균 합계 구간' 시각화

### 3.4 몬테카를로 시뮬레이션 (Monte Carlo)
- **개념**: 확률 모델(마르코프 등)에 기반하여 수만 번 프라이빗 추첨을 수행한 결과값
- **요구사항**: 사용자 클릭 시 10,000회 시뮬레이션 가동 (Web Worker 권장)
- **결과**: 시뮬레이션에서 가장 많이 선택된 '가상 당첨 번호' 리스트 및 분포도

### 3.5 알고리즘 기법 (Algorithm)
- **개념**: 가중 랜덤, 빈도 역비례 등 다양한 알고리즘을 사용자가 선택하여 추천 번호 생성 기법 확인
- **종류**: 빈도 가중치(Hot), 미출현 가중치(Cold), 혼합 가중치(Balance)

### 3.6 끝수 통계 (Ending Digit)
- **개념**: 번호의 일의 자리(0~9) 분포 분석
- **포인트**: 동일 끝수가 2개 이상 출현하는 '끝수 동반 출현' 패턴 분석
- **시각화**: 0~9 막대 그래프 및 최근 회차별 끝수 분포표

### 3.7 궁합수 통계 (Compatibility)
- **개념**: 한 회차에서 동시에 가장 자주 나타나는 번호 쌍(Pair) 또는 3개 조합(Triple) 분석
- **계산**: Combination (6C2) 빈도 집계
- **표시**: 특정 번호 입력 시 '가장 친한 번호'와 '가장 먼 번호' 제안

### 3.8 수학적 성질 (Math Property)
- **분류**: 소수(Prime), 합성수, 3의 배수
- **목적**: 당첨 번호 6개 중 소수가 포함된 개수 등의 수학적 균형 확인
- **시각화**: 소수/합성수 구성비 도넛 차트

## 4. UI/UX 요구사항
- **전문가적 룩앤필**: 차트 라이브러리(ECharts 등)를 활용하여 정교한 데이터 시각화
- **해설 가이드**: 각 통계 용어와 알고리즘에 대한 툴팁 및 상세 설명 섹션 포함 (입문자 배려)
- **성능**: 마르코프 체인 및 궁합수 통계 등 연산량이 많은 기능은 서버 사이드 연산 또는 Web Worker 활용
