# 02. κΈ°μ  μ¤νƒ & μ•„ν‚¤ν…μ²

## π› οΈ κΈ°μ  μ¤νƒ κ°μ”

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Frontend Layer                        β”‚
β”‚  Next.js 15 (App Router) + React 19 + TypeScript        β”‚
β”‚  Tailwind CSS v4 + shadcn/ui                            β”‚
β”‚  TanStack Query (μ„λ²„ μƒνƒ) + Zustand (ν΄λΌμ΄μ–ΈνΈ μƒνƒ)   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Backend Layer                         β”‚
β”‚  Next.js API Routes + Supabase                          β”‚
β”‚  PostgreSQL + Row Level Security                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Infrastructure                        β”‚
β”‚  Vercel (νΈμ¤ν… + Cron) + Supabase (DB + Auth)          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π“¦ μ£Όμ” μμ΅΄μ„±

### Core
| ν¨ν‚¤μ§€ | λ²„μ „ | μ©λ„ | λ°”μ΄λΈμ½”λ”© μΉν™”λ„ |
|-------|-----|-----|----------------|
| `next` | 16.0.10 | ν”„λ μ„μ›ν¬ | β­β­β­β­β­ |
| `react` | 19.2.0 | UI λΌμ΄λΈλ¬λ¦¬ | β­β­β­β­β­ |
| `typescript` | 5.9.3 | νƒ€μ… μ•μ „μ„± | β­β­β­β­β­ |

### Backend & Data
| ν¨ν‚¤μ§€ | μ©λ„ | μ„ νƒ μ΄μ  |
|-------|-----|---------|
| `@supabase/ssr` | SSR μΈμ¦ | Next.js App Router μµμ ν™” |
| `@supabase/supabase-js` | DB/Auth ν΄λΌμ΄μ–ΈνΈ | ν’€μ¤νƒ ν†µν•© |
| `@tanstack/react-query` | μ„λ²„ μƒνƒ κ΄€λ¦¬ | μΊμ‹±, μ¬μ‹λ„, μλ™ λ¦¬νμΉ |
| `zustand` | ν΄λΌμ΄μ–ΈνΈ μƒνƒ | κ°„λ‹¨ν• API, λ³΄μΌλ¬ν”λ μ΄νΈ μ μ |

### UI
| ν¨ν‚¤μ§€ | μ©λ„ |
|-------|-----|
| `tailwindcss` v4 | μ¤νƒ€μΌλ§ |
| `shadcn/ui` | μ»΄ν¬λ„νΈ λΌμ΄λΈλ¬λ¦¬ |
| `lucide-react` | μ•„μ΄μ½ |
| `sonner` | ν† μ¤νΈ μ•λ¦Ό |

### 3D & Animation
| ν¨ν‚¤μ§€ | μ©λ„ |
|-------|-----|
| `three` | 3D λ λ”λ§ |
| `@react-three/fiber` | React Three.js λ°”μΈλ”© |
| `@react-three/drei` | Three.js ν—¬νΌ |
| `@react-three/rapier` | λ¬Όλ¦¬ μ—”μ§„ |

---

## π—οΈ FSD μ•„ν‚¤ν…μ² (Feature Sliced Design)

### μ™ FSDμΈκ°€?
1. **AI μΉν™”μ **: λ…ν™•ν• ν΄λ” κµ¬μ΅°λ΅ AIκ°€ νμΌ μ„μΉ νμ•… μ©μ΄
2. **λ…λ¦½μ  κΈ°λ¥**: κΈ°λ¥λ³„ λ¶„λ¦¬λ΅ side effect μµμ†ν™”
3. **ν™•μ¥μ„±**: μƒ κΈ°λ¥ μ¶”κ°€κ°€ κΈ°μ΅΄ μ½”λ“μ— μν–¥ μ μ

### λ μ΄μ–΄ κµ¬μ΅°

```
src/
β”β”€β”€ app/                  # Next.js App Router (λΌμ°ν…)
β”‚   β”β”€β”€ (dashboard)/      # μΈμ¦ ν•„μ” νμ΄μ§€ κ·Έλ£Ή
β”‚   β”β”€β”€ api/              # API Routes
β”‚   β”β”€β”€ login/            # κ³µκ° νμ΄μ§€
β”‚   β””β”€β”€ layout.tsx        # λ£¨νΈ λ μ΄μ•„μ›ƒ
β”‚
β”β”€β”€ features/             # λΉ„μ¦λ‹μ¤ κΈ°λ¥
β”‚   β”β”€β”€ auth/             # μΈμ¦ κ΄€λ ¨
β”‚   β”β”€β”€ lotto/            # λ΅λ λ¶„μ„/μƒμ„±
β”‚   β”β”€β”€ points/           # ν¬μΈνΈ μ‹μ¤ν…
β”‚   β”β”€β”€ payments/         # κ²°μ 
β”‚   β””β”€β”€ gamification/     # κ²μ΄λ―Έν”ΌμΌ€μ΄μ…
β”‚
β”β”€β”€ entities/             # ν•µμ‹¬ μ—”ν‹°ν‹°
β”‚   β””β”€β”€ user/             # μ‚¬μ©μ λ¨λΈ
β”‚
β””β”€β”€ shared/               # κ³µν†µ μ ν‹Έλ¦¬ν‹°
    β”β”€β”€ ui/               # shadcn/ui μ»΄ν¬λ„νΈ
    β”β”€β”€ lib/              # μ ν‹Έ ν•¨μ, Supabase ν΄λΌμ΄μ–ΈνΈ
    β”β”€β”€ components/       # κ³µν†µ μ»΄ν¬λ„νΈ
    β””β”€β”€ types/            # κ³µν†µ νƒ€μ…
```

### λ μ΄μ–΄ κ·μΉ™ (μ„ν¬νΈ λ°©ν–¥)
```
app β†’ features β†’ entities β†’ shared
         β†“           β†“          β†“
       (μƒμ„ λ μ΄μ–΄λ” ν•μ„ λ μ΄μ–΄λ§ μ„ν¬νΈ κ°€λ¥)
```

---

## π” μƒνƒ κ΄€λ¦¬ μ „λµ

### TanStack Query (μ„λ²„ μƒνƒ)
```typescript
// μ„λ²„μ—μ„ κ°€μ Έμ¤λ” λ°μ΄ν„°
const { data: lottoDraws } = useQuery({
  queryKey: ['lotto', 'draws'],
  queryFn: fetchLottoDraws,
});
```

**μ‚¬μ© μΌ€μ΄μ¤**:
- λ΅λ λ‹Ήμ²¨ λ²νΈ μ΅°ν
- μ‚¬μ©μ μ •λ³΄ μ΅°ν
- ν¬μΈνΈ μ΅°ν

### Zustand (ν΄λΌμ΄μ–ΈνΈ μƒνƒ)
```typescript
// λΈλΌμ°μ €μ—μ„λ§ μ‚¬μ©ν•λ” μƒνƒ
const useAuthStore = create((set) => ({
  user: null,
  setUser: (user) => set({ user }),
}));
```

**μ‚¬μ© μΌ€μ΄μ¤**:
- ν„μ¬ λ΅κ·ΈμΈ μ μ €
- UI μƒνƒ (λ¨λ‹¬, μ‚¬μ΄λ“λ°”)
- μ„μ‹ μ„ νƒκ°’

---

## π”§ λ°”μ΄λΈμ½”λ”© ν

### κΈ°μ  μ¤νƒ μ„ νƒ μ‹
- β… AIκ°€ ν•™μµ λ°μ΄ν„°κ°€ λ§μ€ μ¤νƒ μ„ νƒ (Next.js, React)
- β… κ³µμ‹ λ¬Έμ„κ°€ μ λμ–΄μλ” κ²ƒ (Supabase, TanStack Query)
- β… λ³΄μΌλ¬ν”λ μ΄νΈ μ μ€ κ²ƒ (Zustand > Redux)

### AIμ—κ² κµ¬μ΅° μ„¤λ…ν•  λ•
```
ν”„λ΅μ νΈλ” FSD μ•„ν‚¤ν…μ²λ¥Ό λ”°λΌ.
- src/features/lotto/μ— λ΅λ κ΄€λ ¨ λ΅μ§
- src/shared/ui/μ— shadcn μ»΄ν¬λ„νΈ
- src/app/api/μ— API λΌμ°νΈ

μƒ κΈ°λ¥μ€ features ν΄λ”μ— μ¶”κ°€ν•΄μ¤.
```

### ν”Όν•΄μ•Ό ν•  ν¨ν„΄
- β ν• νμΌμ— λ„λ¬΄ λ§μ€ μ½”λ“ (AI μ»¨ν…μ¤νΈ μ΄κ³Ό)
- β μν™ μ„ν¬νΈ (FSD κ·μΉ™ μ„λ°)
- β νƒ€μ… μ •μ μ—†μ΄ μ§„ν–‰ (λ‚μ¤‘μ— μμ • μ–΄λ ¤μ›€)

### μ‹¤ν¨ν–λ μ‹λ„
```
# μ΄λ ‡κ² ν•λ©΄ μ• λ¨
"μƒνƒ κ΄€λ¦¬ μ•μ•„μ„ ν•΄μ¤" β†’ Redux, Context, useState μ„μ—¬μ„ νΌλ€

# μ΄λ ‡κ² ν•΄μ•Ό ν•¨
"μ„λ²„ λ°μ΄ν„°λ” TanStack Queryλ΅, ν΄λΌμ΄μ–ΈνΈ μƒνƒλ” Zustandλ΅ κµ¬ν„ν•΄"
```
