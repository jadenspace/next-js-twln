📌 PRD – 로또 통계 분석 사이트
1. 제품 개요
1.1 목적

로또 당첨 번호 데이터를 기반으로 통계적 인사이트를 시각적으로 제공

단순 조회를 넘어 패턴 탐색 / 시뮬레이션 / 확률 기반 추천 보조

초보 사용자부터 헤비 유저까지 단계적으로 사용할 수 있는 구조

1.2 주요 사용자

로또를 정기적으로 구매하는 일반 사용자

통계/패턴 기반으로 번호를 참고하고 싶은 사용자

2. 메뉴 구조
통계
 ├─ 기본 통계
 │   ├─ 번호별 통계
 │   ├─ 구간별 출현횟수
 │   ├─ 기간별 미출현 번호
 │   ├─ 홀짝 통계
 │   └─ 연속번호 출현
 │
 └─ 심화 통계
     ├─ n회귀 통계
     ├─ 마르코프 체인 / 전이 확률
     ├─ 일본 유명인사 방법
     ├─ 몬테카를로 시뮬레이션
     ├─ 알고리즘 기법 (MC 등)
     ├─ 끝수 통계
     ├─ 9구간 통계
     ├─ 간격 통계
     ├─ 궁합수 통계
     └─ 소수/합성수/3배수 통계

3. 기본 통계 메뉴 상세
3.1 번호별 통계
목적

각 번호(1~45)의 출현 빈도를 한눈에 파악

사용자 행동

전체 회차 기준 / 특정 기간 선택

정렬(많이 나온 순 / 적게 나온 순)

계산 로직

모든 회차의 당첨 번호를 flatten

번호별 count 집계

Map<number, count>

UI

바 차트 (번호 X축, 출현횟수 Y축)

히트맵 스타일 옵션

평균선 표시

기술 메모

서버에서 집계 후 캐싱

회차 필터 변경 시 재계산

3.2 구간별 출현횟수
목적

번호를 범위(구간) 로 묶어 분포 확인

구간 예시

1~10 / 11~20 / 21~30 / 31~40 / 41~45

계산 로직

번호 → 구간 매핑

구간별 누적 count

UI

스택 바 차트

회차별 / 누적 토글

3.3 기간별 미출현 번호
목적

최근 N회 동안 한 번도 나오지 않은 번호 확인

사용자 옵션

최근 10 / 20 / 30 / 50회

계산 로직

최근 N회 번호 집합

전체 번호(1~45)와 차집합

UI

번호 리스트 + 미출현 회수 표시

“현재 가장 오래 안 나온 번호” 강조

3.4 홀짝 통계
목적

당첨 번호의 홀/짝 비율 패턴 파악

계산 로직

각 회차별 홀수 개수, 짝수 개수

(예: 3:3, 4:2 등)

UI

도넛 차트

회차별 분포 히스토그램

3.5 연속번호 출현
목적

연속된 숫자(예: 12–13)가 얼마나 자주 등장하는지 분석

계산 로직

회차별 정렬 후

n[i+1] === n[i] + 1 체크

UI

연속쌍 출현 비율

연속번호 포함/미포함 회차 비교

4. 심화 통계 메뉴 상세
4.1 n회귀 통계
목적

특정 번호가 몇 회 만에 다시 등장하는지 분석

구간

최근 1~3회

최근 4~6회

최근 7~10회

평균 회귀수

계산 로직

번호별 등장 회차 인덱스 배열

인접 회차 차이 계산

UI

번호별 평균 회귀 테이블

빠른 회귀 / 느린 회귀 강조

4.2 마르코프 체인 / 전이 확률
목적

이전 회차 번호 → 다음 회차 번호 간 전이 확률

계산 로직

회차 n에 등장한 번호 A

회차 n+1에 등장한 번호 B

P(B | A) 계산

UI

번호 선택 → 다음 회차 확률 히트맵

상위 전이 번호 표시

⚠️ 설명 툴팁 필수

“확률은 과거 데이터 기반이며 예측을 보장하지 않습니다.”

4.3 일본 유명인사 방법
개념

일본 로또 커뮤니티에서 유명한 빈도·균형 기반 선택법

구성 요소

고빈도 번호 + 저빈도 번호 혼합

홀/짝, 고/저 균형

UI

자동 번호 조합 예시

기준 가중치 슬라이더

4.4 몬테카를로 시뮬레이션
목적

무작위 추첨을 수만 회 시뮬레이션하여 분포 확인

계산 로직

랜덤 번호 생성

반복 횟수 N (ex: 10,000)

UI

시뮬레이션 결과 분포 차트

실제 데이터와 비교

4.5 알고리즘 기법 (MC 등)
목적

통계 + 확률 기반 번호 추천 보조

예시

가중 랜덤

빈도 역비례

혼합 전략

UI

알고리즘 선택

추천 번호 생성 버튼

4.6 끝수 통계
목적

일의 자리 숫자 분포 분석 (0~9)

계산 로직

num % 10

UI

막대 차트

최근/전체 비교

4.7 9구간 통계
구간 예시

1~5 / 6~10 / … / 41~45

목적

세밀한 번호 밀집도 확인

4.8 간격 통계
목적

한 회차 내 최소/최대 번호 간격 분석

계산

max - min

인접 번호 간 평균 간격

4.9 궁합수 통계
목적

함께 자주 등장하는 번호 쌍

계산 로직

회차별 조합(6C2)

pair frequency 집계

UI

번호 선택 → 상위 궁합수

4.10 소수 / 합성수 / 3배수 통계
분류

소수

합성수

3의 배수

목적

수학적 성질 분포 시각화

UI

회차별 구성 비율

평균 패턴 표시

5. 공통 비기능 요구사항

📦 데이터 캐싱: 회차 기준 통계는 서버 캐시

📊 차트 라이브러리: Recharts / ECharts

⚠️ 책임 고지 문구 필수

📱 모바일 우선 반응형

6. 주니어 개발자 가이드

모든 통계는 순수 집계 함수 + UI 분리

“예측”이 아닌 “분석”임을 명확히

수식보다 시각화 + 설명 툴팁 우선