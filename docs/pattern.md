1. 서비스 목표 요약 (PRD Overview)

목표

“감으로 고르는 번호”가 아니라
패턴 조합 + 수치 필터 기반의 경우의 수를 통제한 랜덤 생성

필터가 많아도 중복·모순 없이 안정적으로 동작

사용자가 “왜 이 조합이 나왔는지” 이해 가능

핵심 UX 원칙

패턴은 의미 단위로 묶고

수치는 슬라이더/체크박스 조합

모든 선택은 실시간 경우의 수 감소 효과가 보이도록 설계

2. 전체 워크플로우 정의
STEP 1. 패턴 조합 카테고리 선택

→ “이 조합은 어떤 성격인가?”를 먼저 고르게 함

STEP 2. 선택된 패턴에 대한 수치 필터 조정

→ 범위/개수/포함·제외 방식

STEP 3. 실시간 경우의 수 계산 & 노출

→ 8,145,060 기준 필터링 결과

STEP 4. 랜덤 생성

5조합 / 10조합 선택

완전 랜덤 ❌

조건 충족 집합 내 랜덤

3. 패턴 필터 PRD (정제·중복 제거 버전)
A. 🔢 기본 수치 패턴 (필수 Core)

거의 모든 기존 사이트에서 공통으로 쓰이며, 중복 제거 후 핵심만 유지

1) 번호 총합

범위 선택 (Slider)

기본 추천값: 100 ~ 175

이유: 극단값(80↓ / 190↑) 자동 배제

2) 홀짝 비율

선택 방식: 멀티 체크

옵션:

1:5 / 2:4 / 3:3 / 4:2 / 5:1 / 6:0 / 0:6


3) 고저 비율 (1~22 / 23~45)

홀짝과 동일 UX

기본 추천:

2:4 / 3:3 / 4:2

4) AC 값 (분산도)

선택 방식: Range Slider

범위: 3 ~ 10

기본 추천: 7 ~ 10

설명 노출:

“숫자 간 간격의 다양성”

B. 🔁 반복·패턴 구조 계열
5) 연속번호

옵션:

없음

2연속 1쌍

2연속 2쌍

❌ 3연속 이상 기본 비활성

UX 포인트:

체크 시 예시 시각화

6) 동일 끝수

옵션:

0 / 1쌍(2개) / 3개

4개 이상 ❌

2쌍2, 2쌍3 등 혼동 용어 제거

7) 동일 구간 (9구간 or 10구간)

옵션:

2개 허용

3개 허용

4개 이상 ❌

C. 🧮 수학적 성질 패턴 (정리된 버전)

기존 데이터에서 중복·의미 겹침 제거

8) 소수 개수

옵션: 0 ~ 3

4 이상 ❌

9) 합성수 개수

옵션: 0 ~ 3

소수와 상호 보완적 관계 설명 제공

10) 배수 필터

3의 배수: 0 ~ 3

5의 배수: 0 ~ 2

기존 “3의 배수 4개 이상 제외” 규칙 통합

11) 제곱수

옵션: 0 ~ 2

3 이상 ❌

D. 📊 통계 기반 패턴 (선택형 / 고급)
12) 최근 미출현 번호

기준:

최근 5주 / 10주 / 30주

옵션:

0개 / 1개 / 2개 포함

13) 출현 빈도 기반

최근 30주간:

0~1회

2~3회

4~6회

“사카이 조합” → 명칭 제거

→ “중빈도 번호 조합”

14) 이월수

직전 회차 번호 포함 여부

옵션:

0개 / 1개

E. 🧩 위치·형상 패턴 (완전 선택형)

재미 요소 + 차별화, 기본 OFF

용지 가로 / 세로 / 대각선

모서리 패턴

삼각 패턴

개구리 패턴

퐁당퐁당

⚠️ 경우의 수 급감 경고 UI 필수

4. 경우의 수 계산 정책

기준: 8,145,060 전체 조합

각 필터는 교집합 방식

UX 규칙:

10만 이상 → “여유”

1만~10만 → “권장”

1만 미만 → ⚠️ “과도한 필터링”

5. 랜덤 생성 정책

생성 개수:

5조합 / 10조합

중복 방지

동일 패턴 내 시드 랜덤

“다시 생성” 시 완전 재랜덤

6. 중복·문제 요소 정리 요약
기존 요소	처리
쌍수 중복 조건	하나로 통합
사카이 조합	개념 재정의
동일끝수 복잡 옵션	단순화
16번 쌍수 조건 중복	제거
시작번호/끝번호 극단 제한	총합/구간으로 흡수