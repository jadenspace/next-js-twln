# TWLN 프로젝트 기술 스택 및 설정

## 핵심 기술 스택

### 프론트엔드 프레임워크

- **Next.js 15**: App Router, Server Components, Middleware 활용
- **React 19**: 최신 React 기능 및 성능 최적화 활용
- **TypeScript**: 엄격한 타입 체크 (`strict: true`)

### 백엔드 및 데이터베이스

- **Supabase**: 인증, 데이터베이스, 실시간 기능
- **PostgreSQL**: 관계형 데이터베이스 (Supabase 호스팅)

### 상태 관리

- **TanStack Query**: 서버 상태 관리 및 캐싱
- **Zustand**: 클라이언트 상태 관리

### 스타일링

- **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크
- **shadcn/ui**: 재사용 가능한 UI 컴포넌트 라이브러리

## 인증 시스템

### Supabase Auth 기반

- 이메일/비밀번호 인증
- 관리자 승인 시스템 구현
- 미들웨어를 통한 라우트 보호

### 개발 환경 설정

- 개발 모드에서는 더미 환경변수로 인증 우회 가능
- 환경변수: `NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`

### 인증 플로우

1. 사용자 회원가입/로그인
2. 관리자 승인 대기
3. 승인 후 서비스 이용 가능
4. 미들웨어에서 인증 상태 체크

## 상태 관리 패턴

### 서버 상태 (TanStack Query)

- API 호출 및 캐싱
- 백그라운드 동기화
- 로딩 상태 및 에러 처리
- 쿼리 무효화 및 재시도

### 클라이언트 상태 (Zustand)

- 인증 상태 관리
- UI 상태 관리
- 전역 상태 공유

## 데이터베이스 설계

### Supabase RLS (Row Level Security)

- 행 레벨 보안 정책 적용
- 사용자별 데이터 접근 제어
- 관리자 권한 분리

### 주요 테이블

- `users`: 사용자 기본 정보
- `approved_users`: 승인된 사용자 목록
- `user_profiles`: 사용자 프로필 정보

## 환경 설정

### 개발 환경

- 더미 Supabase 설정으로 인증 우회
- 핫 리로드 및 개발 도구 활용
- 디버깅을 위한 로그 출력

### 프로덕션 환경

- 실제 Supabase 인스턴스 사용
- 보안 정책 적용
- 성능 최적화 설정

## 성능 최적화

### Next.js 최적화

- App Router 활용
- Server Components 사용
- 이미지 최적화
- 번들 크기 최적화

### React 최적화

- 컴포넌트 메모이제이션
- 불필요한 리렌더링 방지
- 코드 스플리팅

### 데이터베이스 최적화

- 인덱스 최적화
- 쿼리 최적화
- 캐싱 전략
